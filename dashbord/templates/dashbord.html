{% extends 'dashbord_elements/base.html' %}
{% load static %}
{% block body %}
<div class="row">
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats">
        <div class="card-header card-header-warning card-header-icon">
          <div class="card-icon">
            <i class="material-icons">group</i>
          </div>
          <p class="card-category">Number of Client</p>
          <h3 class="card-title">{{ comptes|length }}</h3>
        </div>
        <div class="card-footer">
          <div class="stats">
            <i class="material-icons text-danger">warning</i>
            <a href="#pablo">Get More Space...</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats">
        <div class="card-header card-header-rose card-header-icon">
          <div class="card-icon">
            <i class="material-icons">how_to_reg</i>
          </div>
          <p class="card-category">Number Of Active Client</p>
          <h3 class="card-title">{{ numberActifClient }}</h3>
        </div>
        <div class="card-footer">
          <div class="stats">
            <i class="material-icons">local_offer</i> Tracked from Google Analytics
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats">
        <div class="card-header card-header-success card-header-icon">
          <div class="card-icon">
            <i class="fa fa-server"></i>
          </div>
          <p class="card-category">Size Of Datalake</p>
          <h3 class="card-title">{{ sizeDataLake }} G</h3>
        </div>
        <div class="card-footer">
          <div class="stats">
            <i class="material-icons">date_range</i> Last 24 Hours
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats">
        <div class="card-header card-header-info card-header-icon">
          <div class="card-icon">
            <i class="fa fa-server"></i>
          </div>
          <p class="card-category">Followers</p>
          <h3 class="card-title">+245</h3>
        </div>
        <div class="card-footer">
          <div class="stats">
            <i class="material-icons">update</i> Just Updated
          </div>
        </div>
      </div>
    </div>
</div>
<div class="row">
  <div class="col-md-4">
    <div class="card">
      <div class="card-header card-header-icon card-header-rose">
        <div class="card-icon">
          <i class="material-icons">pie_chart</i>
        </div>
        <h4 class="card-title">Multiple Bars Chart <small>- Bar Chart</small></h4>
      </div>
      <div class="card-body">
        <canvas height="450" id="doughnut-chart" width="800"></canvas>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card">
      <div class="card-header card-header-icon card-header-rose">
        <div class="card-icon">
          <i class="material-icons">pie_chart</i>
        </div>
        <h4 class="card-title">Multiple Bars Chart <small>- Bar Chart</small></h4>
      </div>
      <div class="card-body">
        <canvas height="450" id="doughnut-chart-clic" width="800"></canvas>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card">
      <div class="card-header card-header-icon card-header-rose">
        <div class="card-icon">
          <i class="material-icons">pie_chart</i>
        </div>
        <h4 class="card-title">Multiple Bars Chart <small>- Bar Chart</small></h4>
      </div>
      <div class="card-body">
        <canvas height="450" id="doughnut-chart-open" width="800"></canvas>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header card-header-primary card-header-icon">
        <div class="card-icon">
          <i class="material-icons">assignment</i>
        </div>
        <h4 class="card-title">All Clients</h4>
      </div>
      <div class="card-body">
        <div class="toolbar">
          <!--        Here you can write extra buttons/actions for the toolbar              -->
        </div>
        <div class="material-datatables">
          <table id="datatables" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
            <thead>
              <tr>
                <th>Status</th>
                <th>id</th>
                <th>Name</th>
                <th>Database Name</th>
                <th>Inscription date</th>
                <th class="disabled-sorting text-right">Actions</th>
              </tr>
            </thead>
            <tfoot>
              <tr>
                <th>Status</th>
                <th>id</th>
                <th>Name</th>
                <th>Database Name</th>
                <th>Inscription date</th>
                <th class="text-right">Actions</th>
              </tr>
            </tfoot>
            <tbody>
              {% for compte in comptes %}
                  <tr> 
                    <td>
                      {% if compte.active %}
                        <span class="badge badge-success">Active</span>
                      {% else %}
                        <span class="badge badge-danger">Not Active</span>
                      {% endif %}
                    </td>
                    <td>{{compte.id}}</td>
                    <td>{{compte.name}}</td>
                    <td>{{compte.bddname}}</td>
                    <td>{{compte.inscriptiondate}}</td>
                      <td class="text-right">
                        <a href="{% url 'edatis_dashbord:allCompagne' compte.bddname %}" type="button" rel="tooltip" class="btn btn-info btn-round" style="color : white">
                          <i  class="material-icons">assessment</i> <strong> Compagnes</strong>
                        </a>
                      </td>
                  </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <!-- end content-->
    </div>
    <!--  end card  -->
  </div>
  <!-- end col-md-12 -->
</div>
{% endblock %}
{% block div %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

 <script>
   // chart for pc tablette tel open
     new Chart(document.getElementById("doughnut-chart"), {
     type: 'doughnut',
     data: {
       labels: ["pc", "Tablette", "telephone"],
       datasets: [
         {
           label: "Population (millions)",
           backgroundColor: ["#0AB0BF", "#8e5ea2","#3cba9f"],
           data: [1254, 4584 ,4581]
         }
       ]
     },
     options: {
       title: {
         display: true,
         text: 'Predicted world population (millions) in 2050'
       }
     }
   });
     //chart for clic
     new Chart(document.getElementById("doughnut-chart-clic"), {
     type: 'doughnut',
     data: {
       labels: ["clic", "others"],
       datasets: [
         {
           label: "Population (millions)",
           backgroundColor: ["#1e272e", "#F4D03F"],
           data: [2478,5267]
         }
       ]
     },
     options: {
       title: {
         display: true,
         text: 'Predicted world population (millions) in 2050'
       }
     }
   });
     //chart for open
     new Chart(document.getElementById("doughnut-chart-open"), {
     type: 'doughnut',
     data: {
       labels: ["open", "others"],
       datasets: [
         {
           label: "Population (millions)",
           backgroundColor: ["#1b3e28", "#E74C3C "],
           data: [2478,5267]
         }
       ]
     },
     options: {
       title: {
         display: true,
         text: 'Predicted world population (millions) in 2050'
       }

     }
   });
   // chart final
   new Chart(document.getElementById("line-chart"), {
 type: 'line',
 data: {
   labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],
   datasets: [{
       data: [282,350,411,502,635,1205,3201,4523,5482,6584],
       label: "sent",
       borderColor: "#3e95cd",
       fill: false
     }, {
       data: [282,350,411,502,635,809,947,1402,3700,5267],
       label: "open",
       borderColor: "#8e5ea2",
       fill: false
     }, {
       data: [168,170,178,190,203,276,408,547,675,734],
       label: "clickers",
       borderColor: "#3cba9f",
       fill: false
     }, {
       data: [40,20,10,16,24,38,74,167,508,784],
       label: "Bounces",
       borderColor: "#e8c3b9",
       fill: false
     }, {
       data: [6,3,2,2,7,26,82,172,312,433],
       label: "unsubscribes",
       borderColor: "#c45850",
       fill: false
     }
   ]
 },
 options: {
   title: {
     display: true,
     text: 'World population per region (in millions)'
   }
 }
});
   // stat
     new Chart(document.getElementById("doughnut-chart-stat"), {
     type: 'doughnut',
     data: {
       labels: ["Bounced", "Abouti", "En attente"],
       datasets: [
         {
           label: "Population (millions)",
           backgroundColor: ["#E74C3C", "#148F77", "#F1C40F"],
           data: [2478,5267,4523]
         }
       ]
     },
     options: {
       title: {
         display: true,
         text: 'Predicted world population (millions) in 2050'
       }
     }
   });
 </script>
{% endblock %}
