{% extends 'dashbord_elements/base.html' %}
{% load static %}
{% block body %}
<div class="row">
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-warning card-header-icon">
					<div class="card-icon">
						<i class="material-icons">weekend</i>
					</div>
					<p class="card-category">Number Of Contact</p>
					<h3 class="card-title">{{numberContact}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">local_offer</i> Number Of Contact
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-rose card-header-icon">
					<div class="card-icon">
						<i class="material-icons">equalizer</i>
					</div>
					<p class="card-category">Number Of Ips</p>
					<h3 class="card-title">{{NumberIp}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">local_offer</i> Mail Recieved
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-success card-header-icon">
					<div class="card-icon">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Number of Open</p>
					<h3 class="card-title">{{sumOpens}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Open Number
					</div>
				</div>
			</div>
		</div>
    <div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-info card-header-icon">
					<div class="card-icon">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Number of Clics</p>
					<h3 class="card-title">{{sumClics}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Open Number
					</div>
				</div>
			</div>
		</div>
    <div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-icon">
					<div class="card-icon" style="background : #1A5276">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Number Of Bounce</p>
					<h3 class="card-title">{{sumBounce}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Open Number
					</div>
				</div>
			</div>
		</div>
    <div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-icon">
					<div class="card-icon" style="background : #633974">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Number of Sent</p>
					<h3 class="card-title">{{sumSent}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Open Number
					</div>
				</div>
			</div>
		</div>
    <div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-icon">
					<div class="card-icon" style="background : #F4D03F  ">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Number of Recieved</p>
					<h3 class="card-title">{{sumRecieved}}</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Open Number
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
    <div class="col-md-1"></div>
		<div class="col-md-5">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">stast All Ips for all contact<small>- Bar Chart</small></h4>
				</div>
				<div class="card-body" id="mobile_container">
					<canvas height="450" id="chart_open_click_bounce" width="800"></canvas>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">update</i> Click Number
					</div>
				</div>
			</div>
		</div>
    <div class="col-md-5">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">STats opens clicks bounce  <small>- Bar Chart</small></h4>
				</div>
				<div class="card-body" id="mobile_container">
					<canvas height="450" id="chart_open_click_bounce_ip" width="800"></canvas>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">update</i> Click Number
					</div>
				</div>
			</div>
		</div>
	</div>
  <div class="row">
		<div class="col-md-12">
			<div class="card">
				<div class="card-header card-header-primary card-header-icon">
					<div class="card-icon">
						<i class="material-icons">assignment</i>
					</div>
					<h4 class="card-title">Analyse Contact  Per Companes</h4>
				</div>
				<div class="card-body">
					<div class="toolbar">
						<!--        Here you can write extra buttons/actions for the toolbar              -->
					</div>
					<div class="material-datatables">
						<table cellspacing="0" class="table table-striped table-no-bordered table-hover" id="dataIpsDatatable" style="width:100%" width="100%">
							<thead>
								<tr>
									<th>email</th>
									<th>ip </th>
									<th>clic</th>
									<th>open</th>
									<th>bounce</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
                  <th>mail sending id</th>
									<th>email</th>
									<th>clic</th>
									<th>open</th>
									<th>bounce</th>
								</tr>
							</tfoot>
							<tbody>

							</tbody>
						</table>
					</div>
				</div><!-- end content-->
			</div><!--  end card  -->
		</div>
	</div>
{% endblock %}
{% block div %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="{% static 'assets/js/charts.js' %}" type="text/javascript"></script>
<script>
	labelsipContact = [];
	{% for content in labelsIpContact %}
			labelsipContact.push("{{content}}");
	{% endfor %}
	labelsActions = [];
	{% for content in labelsList %}
			labelsActions.push("{{content}}");
	{% endfor %}
  chart_open_clic = loadChart({{nbContact}}, ["#1A5276","#17A589","#5499C7","#28B463 ","#D4AC0D","#5D6D7E","#34495E","#10D82C" ,"#2460DA"],labelsipContact , "chart_open_click_bounce", "Ip Per contact", 'bar', false);
  chart_open_clic_bounce_ip = loadBarChartmultiple(labelsActions, "open", "clic", "bounce", {{opensList}}, {{clicsList}}, {{bounceList}}, "chart_open_click_bounce_ip", "#52BE80", "#154360", "#3498DB", "chart")
$(document).ready(function(){
	$('#dataIpsDatatable').DataTable({
		"ajax" : {
			"url" : "/dashbord/allRecordsIps",
			"dataSrc" : ""
		},
		"columns" : [
			{"data" : "email"},
			{"data" : "ip"},
			{"data" : "clics"},
			{"data" : "opens"},
			{"data" : "bounce"},
		]
	});
});

</script>
{% endblock %}
