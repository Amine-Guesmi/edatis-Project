{% extends 'dashbord_elements/base.html' %}
{% load static %}
{% block body %}
<div class="row">
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-warning card-header-icon">
					<div class="card-icon">
						<i class="material-icons">weekend</i>
					</div>
					<p class="card-category">Bookings</p>
					<h3 class="card-title">184</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons text-danger">warning</i> <a href="#pablo">Get More Space...</a>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-rose card-header-icon">
					<div class="card-icon">
						<i class="material-icons">equalizer</i>
					</div>
					<p class="card-category">Website Visits</p>
					<h3 class="card-title">75.521</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">local_offer</i> Tracked from Google Analytics
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-success card-header-icon">
					<div class="card-icon">
						<i class="material-icons">store</i>
					</div>
					<p class="card-category">Revenue</p>
					<h3 class="card-title">$34,245</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">date_range</i> Last 24 Hours
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-sm-6">
			<div class="card card-stats">
				<div class="card-header card-header-info card-header-icon">
					<div class="card-icon">
						<i class="fa fa-server"></i>
					</div>
					<p class="card-category">Followers</p>
					<h3 class="card-title">+245</h3>
				</div>
				<div class="card-footer">
					<div class="stats">
						<i class="material-icons">update</i> Just Updated
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-success">
					<center>
						<h4><strong>Mail Sending</strong></h4>
					</center>
				</div>
				<div class="card-body">
					<center>
						<h3 class="card-title text-success">{{ Analyse_obj.nbMailSending }}</h3>
					</center>
				</div>
			</div>
		</div>
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-dark">
					<center>
						<h4><strong>Number Of Open</strong></h4>
					</center>
				</div>
				<div class="card-body" >
					<center>
						<h3  class="card-title text-dark" id="allOpen">{{Analyse_obj.SumAllDevicesOpen}}</h3>
					</center>
				</div>
			</div>
		</div>
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-info">
					<center>
						<h4><strong>Number Of Clic</strong></h4>
					</center>
				</div>
				<div class="card-body">
					<center>
						<h3 class="card-title text-info" id="allClic">{{Analyse_obj.SumAllDevicesClic}}</h3>
					</center>
				</div>
			</div>
		</div>
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-secondary">
					<center>
						<h4><strong>Open rate</strong></h4>
					</center>
				</div>
				<div class="card-body">
					<center>
						<h3 class="card-title text-secondary">6,330</h3>
					</center>
				</div>
			</div>
		</div>
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-warning">
					<center>
						<h4><strong>Soft Bounce</strong></h4>
					</center>
				</div>
				<div class="card-body">
					<center>
						<h3 class="card-title text-warning">6,330</h3>
					</center>
				</div>
			</div>
		</div>
		<div class="col-lg-2 col-md-6 col-sm-6">
			<div class="card text-white bg-white mb-3" style="max-width: 18rem;">
				<div class="card-header bg-danger">
					<center>
						<h4><strong>Hard Bounce</strong></h4>
					</center>
				</div>
				<div class="card-body">
					<center>
						<h3 class="card-title text-danger">6,330</h3>
					</center>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">Desktop Analyse <small>- Pie Chart</small><img id="loading-desktop" class="loading" src="{% static 'assets/img/load.gif' %}" style="float: right; margin-top: -3%"> </h4>
				</div>
				<div class="card-body" id="desktop_container">
					<canvas height="450" id="desktop_chart" width="800"></canvas>
				</div>
				<div id="testets" class="card-footer">
            <div  class="form-group" style="width: 37%">
              <select id="type-Desktop" class="custom-select">
                <option value="open" selected>open</option>
                <option value="clic">clic</option>
              </select>
            </div>
						&nbsp;
						<div  class="form-group" style="width: 37%">
              <select id="mode-Desktop" class="custom-select">
                <option value="Normale" selected>Normale</option>
                <option value="Predictive">Predictive</option>
              </select>
            </div>
						&nbsp;
						<button id="btn-Desktop" type="button" class="btn btn-rose btn-load">load</button>
      </div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">Tablet Analyse <small>- Pie Chart</small><img id="loading-tablet" class="loading" src="{% static 'assets/img/load.gif' %}" style="float: right; margin-top: -3%"></h4>
				</div>
				<div class="card-body" id="tablet_container">
					<canvas height="450" id="tablet_chart" width="800"></canvas>
				</div>
				<div class="card-footer">
            <div  class="form-group" style="width: 37%">
              <select id="type-tablet" class="custom-select">
                <option value="open" selected>open</option>
                <option value="clic">clic</option>
              </select>
            </div>
						&nbsp;
						<div class="form-group" style="width: 37%">
              <select id="mode-tablet" class="custom-select">
                <option value="Normale" selected>Normale</option>
                <option value="Predictive">Predictive</option>
              </select>
            </div>
						&nbsp;
            <button id="btn-tablet" type="button" class="btn btn-rose btn-load">load</button>
      </div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">Multiple Bars Chart <small>- Bar Chart</small><img id="loading-mobile" class="loading" src="{% static 'assets/img/load.gif' %}" style="float: right; margin-top: -3%"></h4>
				</div>
				<div class="card-body" id="mobile_container" >
					<canvas height="450" id="mobile_chart" width="800"></canvas>
				</div>
				<div class="card-footer">
            <div class="form-group" style="width: 37%">
              <select id="type-mobile" class="custom-select">
                <option value="open" selected>open</option>
                <option value="clic">clic</option>
              </select>
            </div>
						&nbsp;
						<div class="form-group" style="width: 37%">
              <select id="mode-mobile" class="custom-select">
                <option value="Normale" selected>Normale</option>
                <option value="Predictive">Predictive</option>
              </select>
            </div>
						&nbsp;
            <button id="btn-mobile" type="button" class="btn btn-rose btn-load">load</button>
      </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6" style="margin : 0 auto">
			<div class="card">
				<div class="card-header card-header-icon card-header-rose">
					<div class="card-icon">
						<i class="material-icons">pie_chart</i>
					</div>
					<h4 class="card-title">All Devices Analyse <small>- Pie  Chart</small><img class="loading" id="loading-devices" src="{% static 'assets/img/load.gif' %}" style="float: right; margin-top: -2%"></h4>
				</div>
				<div class="card-body" id="allDevice_container">
					<canvas id="devices_chart"></canvas>
				</div>
				<div class="card-footer">
						<div class="form-group" style="width: 37%">
							<select id="type-devices" class="custom-select">
								<option value="open" selected>open</option>
								<option value="clic">clic</option>
							</select>
						</div>
						&nbsp;
						<div class="form-group" style="width: 37%">
							<select id="mode-devices" class="custom-select">
								<option value="Normale" selected>Normale</option>
								<option value="Predictive">Predictive</option>
							</select>
						</div>
						&nbsp;
						<button id="btn-devices" type="button" class="btn btn-rose btn-load">load</button>
			</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="card">
				<div class="card-header card-header-primary card-header-icon">
					<div class="card-icon">
						<i class="material-icons">assignment</i>
					</div>
					<h4 class="card-title">Messages from 01-27-2016 to 02-25-2016</h4>
				</div>
				<div class="card-body">
					<div class="toolbar">
						<!--        Here you can write extra buttons/actions for the toolbar              -->
					</div>
					<div class="material-datatables">
						<table cellspacing="0" class="table table-striped table-no-bordered table-hover" id="datatables" style="width:100%" width="100%">
							<thead>
								<tr>
									<th>Status</th>
									<th>Date</th>
									<th>Subjest</th>
									<th>From</th>
									<th>To</th>
									<th>Tags</th>
									<th class="disabled-sorting text-right">Actions</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
									<th>Status</th>
									<th>Date</th>
									<th>Subjest</th>
									<th>From</th>
									<th>To</th>
									<th>Tags</th>
									<th class="disabled-sorting text-right">Actions</th>
								</tr>
							</tfoot>
							<tbody>
								<tr>
									<td><button class="btn btn-info" type="button">Opened</button></td>
									<td>02-25-2016 06:26:16 pm</td>
									<td>Confirm Your Upcomi...</td>
									<td>test@test.com</td>
									<td>test2@test.com</td>
									<td>Confirmation SMTP</td>
									<td class="text-right"><button class="btn btn-warning" type="button">detail</button></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div><!-- end content-->
			</div><!--  end card  -->
		</div>
	</div>
{% endblock %}
{% block div %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="{% static 'assets/js/charts.js' %}" type="text/javascript"></script>
 <script>
	 $(".loading").css("visibility", "hidden");
	 mail_sending_id = " {{ mail_sending_id }} ";
	 bdname = "{{ bdname }}";
   // chart pc
	 chart1 = loadChart([{{Analyse_obj.Desktop_open}}, {{Analyse_obj.SumAllDevicesOpen}}- {{Analyse_obj.Desktop_open}}], ["#4CAF50", "#E74C3C"], ["True", "False"], "desktop_chart", "Desktop Clic Per Contact (Normale)", 'doughnut');
     //chart Tablet
	 chart2 = loadChart([{{Analyse_obj.tablet_open}}, {{Analyse_obj.SumAllDevicesOpen}} - {{Analyse_obj.tablet_open}}], ["#1B4F72", "#E74C3C"], ["True", "False"], "tablet_chart", "Tablet Clic per contact (Normale)", 'doughnut');
     //chart Telephone
	 chart3 = loadChart([{{Analyse_obj.tel_open}}, {{Analyse_obj.SumAllDevicesOpen}} - {{Analyse_obj.tel_open}}], ["#76448A", "#E74C3C"], ["True", "False"], "mobile_chart", "Mobile Clic per contact (Normale)", 'doughnut')
   // stat
	 chart4 = loadChart([{{Analyse_obj.Desktop_open}}, {{Analyse_obj.tablet_open}}, {{Analyse_obj.tel_open}}], ["#4CAF50", "#1B4F72", "#76448A"], ["Desktop", "tablet", "phone"],"devices_chart", "All Devices Clic per contact (Normale)", 'doughnut')
 </script>
 <script>
   // navigation active
   const currentLocation = location.href;
   const menuItem = document.querySelectorAll('a.nav-link');
   const navItem = document.querySelectorAll('li.nav-item');
   for(let i = 0; i<navItem.length; i++){
     if(menuItem[i].href == currentLocation){
       navItem[i].className = "active"      }
   }
 </script>
{% endblock %}
